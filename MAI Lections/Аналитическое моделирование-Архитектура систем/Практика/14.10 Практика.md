Оптимальный алгоритм замещения
l = 16
s = 3
r = 7
Дальше рисуем много табличек, в которых визуализируем перезаписи (Промахи)

1) -й проход: переписываем самый правый столбец. 16 промахов.
   Первые два полностью заполнены 1 и 2 соответственно.
2) второй столбец начинается с 3-х, последний полностью заполнен 16-ями. 13 промахов
3) 1-й столбец - от 2 до 14, 2-й 15, 3-й - 16
4) 14 промахов, первый столбец - 14, второй - 15 и 16 внизу, 3-й - от 1 до 13
5) 14 промахов: 1- 14 и 15, 16 внизу 2- от 1 до 12, 3 - 13
6) 14 промахов: 1 - от 1 до 11, 2- 12, 3- от 13 до 16
7) 14 промахов: 1 - 11, 2 - от 12 до 16, 3 - от 1 до 10
Итого
$P = \frac{16 + 2 *13 + 4 * 14*}{16 * 7 * m} = \frac{98}{112m} = \frac{7}{8m}$

Теперь графы.
Ассоциативный, LRU, зависимый.
l = 4, s=3
Количество узлов графа - это все парные комбинации l s.
У каждого узла l выходов и входов.

задача стоит в том, чтобы попасть в указанное или данное в задаче состояние графа, расписав при этом все промахи. Там используется формула, а рассматриваем мы все входы и выходы в искомую вершину графа.

123 124 132 134 142 143
213 214 231 243 241 243
312 314 321 324 341 342
412 413 421 423 431 432

А дальше этот кирпич превращается в граф. Граф вероятностей переходов. Его я тут уже никак не запишу :(
$q_{123} = p_{11} q_{123} + p_{21} q_{213} + p_{24}(q_{231} + q_{234})$
$p_{промах} = p_{14} q_{123} + {23 ~ произведения}$ 
Количество произведений - это площадь кирпича


